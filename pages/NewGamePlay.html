<html>

<head>
    <link rel="stylesheet" type="text/css" href="./NewGamePlay.css">
    <script>

        var draggedItem;

        function dragstart_handler(ev) {
            // Add the target element's id to the data transfer object
            ev.dataTransfer.setData("text/plain", ev.target.id);

            // Record which item is being dragged
            draggedItem = ev.target.id;
        }

        function dragover_handler(ev) {
            // Change colour of slot if valid placement
            ev.currentTarget.style.background = "lightblue";
            ev.preventDefault();
        }

        function dragleave_handler(ev) {
            // Change color of slot back after leaving area
            ev.currentTarget.style.background = "white";
        }


        function drop_handler(ev) {
            // console.log("Drop");
            ev.preventDefault();
            ev.currentTarget.style.background = "darkblue";

            document.getElementById(draggedItem).style.display = "none";
        }
    </script>
</head>

<body>
    <div class="container">
        <div id="header" class="header">
            <div class="backButton">Back</div>
            <div class="timer">01:23</div>
            <div class="reset">Reset</div>
        </div>
        <div id="puzzle" class="puzzle">
            <div class="puzzleRow">
                <div ondrop="drop_handler(event);" ondragover="dragover_handler(event);"
                    ondragleave="dragleave_handler(event)" class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
            </div>
            <div class="puzzleRow">
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div ondrop="drop_handler(event);" ondragover="dragover_handler(event);"
                    ondragleave="dragleave_handler(event)" class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
            </div>
            <div class="puzzleRow">
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
                <div class="puzzleSlot"></div>
            </div>
        </div>
        <div id="pieces" class="pieces">
            <div id="piece1" draggable="true" ondragstart="dragstart_handler(event);" class="puzzlePiece"></div>
        </div>
        <div id="qanda" class="qanda">
            <div class="formula">
                <label id="equation" class="question">1011 + 1020 =</label>
                <input type="number" id="answer" class="answer" autofocus="autofocus">
                <button type="button" class="check">Submit</button>
            </div>
        </div>
    </div>
</body>

</html>